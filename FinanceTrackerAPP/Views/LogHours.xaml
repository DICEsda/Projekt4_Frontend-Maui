<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"  
            xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"  
            x:Class="FinanceTracker.Views.LogHours"  
            xmlns:cal="clr-namespace:Plugin.Maui.Calendar.Controls;assembly=Plugin.Maui.Calendar"
            xmlns:services="clr-namespace:MyApp.Services"
            Title="{Binding [LogHoursTitle], Source={x:Static services:TranslationService.Instance}}"
             BackgroundColor="#1E1E1E">
    
    <ScrollView>
        <Grid Padding="15" RowSpacing="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Time Selection Section -->
            <Frame Grid.Row="0"
                   Padding="15"
                   Margin="0,10"
                   CornerRadius="8"
                   HasShadow="True"
                   BackgroundColor="{StaticResource CardBackground}">
                
                <VerticalStackLayout Spacing="15" HorizontalOptions="Center">
                    <Label Text="{Binding [WorkshiftStarttime], Source={x:Static services:TranslationService.Instance}}"
                           Style="{StaticResource LabelStyle}"
                           FontSize="16"
                           HorizontalOptions="Center"/>

                    <TimePicker Format="HH:mm" 
                               Time="{Binding StartTime}"
                               HorizontalOptions="Center"
                               FontSize="16"/>

                    <Label Text="{Binding [WorkshiftEndtime], Source={x:Static services:TranslationService.Instance}}"
                           Style="{StaticResource LabelStyle}"
                           FontSize="16"
                           HorizontalOptions="Center"
                           Margin="0,10,0,0"/>

                    <TimePicker HorizontalOptions="Center" 
                               Format="HH:mm" 
                               Time="{Binding EndTime}"
                               FontSize="16"/>
                    
                    <Button Style="{StaticResource ConfirmButtonStyle}" 
                            Text="{Binding [AddWorkshiftBtn], Source={x:Static services:TranslationService.Instance}}" 
                            Command="{Binding AddWorkshiftCommand}"
                            Margin="0,10"
                            HeightRequest="45"
                            CornerRadius="8"
                            FontAttributes="Bold"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Calendar Section -->
            <Frame Grid.Row="1"
                   Padding="10"
                   Margin="0,10"
                   CornerRadius="8"
                   HasShadow="True"
                   BackgroundColor="{StaticResource CardBackground}">
                
                <cal:Calendar Events="{Binding Events, Mode=TwoWay}" 
                             MonthLabelColor="{StaticResource BodyColor}"
                             YearLabelColor="{StaticResource BodyColor}"
                             ArrowsColor="NavajoWhite"
                             ArrowsBackgroundColor="Transparent"
                             ArrowsBorderColor="Transparent"
                             SelectedDateColor="{StaticResource BodyColor}"
                             DaysTitleColor="{StaticResource BodyColor}"
                             EventIndicatorTextColor="LightGreen" 
                             SelectedDate="{Binding SelectedDate, Mode=TwoWay}" 
                             OtherMonthDayIsVisible="True"/>
            </Frame>
        </Grid>
    </ScrollView>
</ContentPage>